<!DOCTYPE html>
<html lang="zh">
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.4 -->

    <!-- Title -->
    
    <title>
        
            React 使用技巧 | 
        
        Hexo
    </title>

    <!-- Meta & Info -->
    <meta charset="utf-8">

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="John Doe">
    <meta name="description" content="null">
    <meta name="keywords" content="null,JavaScript,React,Material-UI">

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hexo">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="React 使用技巧 | Hexo">
    <meta property="og:description" content="null">
    <meta property="og:article:tag" content="JavaScript"> <meta property="og:article:tag" content="React"> <meta property="og:article:tag" content="Material-UI"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS & jQuery -->
    
        <link rel="stylesheet" href="/css/material.min.css">
        <link rel="stylesheet" href="/css/style.min.css">
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


        <script src="/js/jquery.min.js"></script>
        <script src="/js/queue.js"></script>
    

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    


    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">1.</span> <span class="post-toc-text">生命周期详解</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">2.</span> <span class="post-toc-text">React 的无状态组件和 JSX 表达式区分</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.</span> <span class="post-toc-text">React 代码优化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">尽量使用三元表达式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">尽量使用表达式代替语句</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">尽量用原生的方法代替 lodash</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.</span> <span class="post-toc-text">React 组件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">state 状态的保存</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">state 状态的同步</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">props 属性的传递</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">尽量不要直接操作 state（论 Immutable 的重要性）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">渲染可控组件时的注意事项</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.6.</span> <span class="post-toc-text">渲染可控组件时的注意事项Ⅱ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.7.</span> <span class="post-toc-text">使用 file 表单控件上传图片时，chrome 不允许重复上传同一文件造成的 bug</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">5.</span> <span class="post-toc-text">React 升级实践</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.</span> <span class="post-toc-text">react-redux 相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">Redux 的 connect() 方法 造成无法通过 refs 访问该组件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.</span> <span class="post-toc-text">react-router 相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">使用 react-router 时，让网址支持二级目录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.1.1.</span> <span class="post-toc-text">整体路由设置：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.1.2.</span> <span class="post-toc-text">页面跳转链接设置：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">使用 history 组件某些方法来增强功能</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.</span> <span class="post-toc-text">Material-UI 相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">Material UI 的 Checkbox 组件在父级元素设置居中时会发生错位</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">Material UI 的 Popover 组件在 Table里使用小组件二次渲染时，会定位为 (0, 0)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">Material-UI 的 Button 组件在 Safari 下必须点击两次才能激发 onClick 事件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">Material-UI 的 TextField 组件放在 Dialog 组件里时，会出现初始值为空时用中文输入法无法输入的 bug（ github上已有人反馈）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.5.</span> <span class="post-toc-text">Material-UI 表单控件的校验</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">9.</span> <span class="post-toc-text">React 中下拉列表或者弹出层，实现点击外部区域关闭</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                React 使用技巧
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>John Doe</strong>
        <span>1月 12, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/JavaScript/">JavaScript</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Material-UI/">Material-UI</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/React/">React</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=React 使用技巧&url=http://yoursite.com//2017/01/11/29.react-tips/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=React 使用技巧&url=http://yoursite.com//2017/01/11/29.react-tips/index.html&via=John Doe" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com//2017/01/11/29.react-tips/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com//2017/01/11/29.react-tips/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>React 是一个 用来构建 Web APP UI 的前端库，适合构建随着时间推移数据不断变化的大型应用程序，用来解决如何高效地将动态数据反映到复杂的用户界面上的问题
关键词：虚拟 DOM、可复用组件、状态机、JSX
最近使用 React 库包括其他第三方组件开发项目，期间遇到很多 “小坑”，记录下来，以备查询。</p>
<h2>生命周期详解</h2>
<ol start="0">
<li>挂载 componentWillMount -&gt; render -&gt; componentDidMount</li>
<li>更新 componentWillReceiveProps -&gt; shouldComponentUpdate -&gt; componentWillUpdate -&gt; render -&gt; componentDidUpdate</li>
<li>卸载 componentWillUnmount</li>
</ol>
<blockquote>
<p>注：官方推荐在 componentDidMount 中添加 ajax，因为这是 DOM 已经完成了初始化的渲染。在 componentWillMount 中获取也可以，但是不建议这么做，因为 DOM 还没有渲染，有些 DOM 操作会出错！</p>
</blockquote>
<h2>React 的无状态组件和 JSX 表达式区分</h2>
<p>创建：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">let SomeComponent = () =&gt; (&lt;div&gt;组件&lt;/div&gt;)</div><div class="line">let SomeJsx = (&lt;div&gt;表达式&lt;/div&gt;);</div><div class="line">let AnotherJsx = list.map((item, i) =&gt; &#123;</div><div class="line">   return &lt;div key=&#123;i&#125;&gt;&#123;item&#125;&lt;/div&gt;;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>合并：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">AnotherJsx.push(&lt;div&gt;新增部分&lt;/div&gt;)</div><div class="line">let newJsx = AnotherJsx.concat(&lt;div&gt;新增部分&lt;/div&gt;)</div></pre></td></tr></table></figure></p>
<p>调用：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;SomeComponent/&gt;</div><div class="line">&#123;SomeJsx&#125;</div><div class="line">&#123;AnotherJsx&#125;</div></pre></td></tr></table></figure></p>
<p>React 的 {} 只能包含表达式，要是包含语句需要用立即调用函数（IIFE）</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;list.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</div><div class="line">   <span class="keyword">return</span> item;</div><div class="line">&#125;)&#125;</div><div class="line"></div><div class="line">&#123;(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span> (a &gt; <span class="number">10</span>) &#123;</div><div class="line">        a++;</div><div class="line">    &#125;</div><div class="line">&#125;)()&#125;</div></pre></td></tr></table></figure></p>
<h2>React 代码优化</h2>
<h3>尽量使用三元表达式</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div className=&#123;(order % 2) === 0 ? &apos;odd&apos; : &apos;even&apos;&#125;/&gt;</div></pre></td></tr></table></figure></p>
<h3>尽量使用表达式代替语句</h3>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span> (key) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;key&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">''</span>;</div><div class="line">    &#125;</div><div class="line">&#125;)()&#125;</div></pre></td></tr></table></figure></p>
<p>使用三元表达式后：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;key ? &lt;span&gt;&#123;key&#125;&lt;/span&gt; : &apos;&apos;&#125;</div></pre></td></tr></table></figure></p>
<p>特别注意
因为 React 对于 true、false、null、undefined 等值并不渲染，所以可以用来进行条件判断后渲染组件，如上例可以进行极致精简：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;key &amp;&amp; &lt;span&gt;&#123;key&#125;&lt;/span&gt;&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>注：特别注意对于数字 0 , React 仍然会渲染. 如下例，当 props.messages 为空数组时，会
输出 0，而不是不渲染。</p>
</blockquote>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &#123;props.messages.length &amp;&amp;</div><div class="line">    &lt;MessageList messages=&#123;props.messages&#125; /&gt;</div><div class="line">  &#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>修正也很简单，让 &amp;&amp; 符前的表达式永远为 boolean 值即可：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &#123;props.messages.length &gt; 0 &amp;&amp;</div><div class="line">    &lt;MessageList messages=&#123;props.messages&#125; /&gt;</div><div class="line">  &#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h3>尽量用原生的方法代替 lodash</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">// lodash</div><div class="line">_.forEach(xList, (item, key) =&gt; &#123;</div><div class="line">    arr[key] = item.name;</div><div class="line">&#125;)</div><div class="line">// 原生</div><div class="line">Object.keys(xList).forEach((key, i) =&gt; &#123;</div><div class="line">    let item = xList[key];</div><div class="line">    arr[key] = item.name;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">// lodash</div><div class="line">_.map(xList, (item) =&gt; &#123;</div><div class="line">    return item.name;</div><div class="line">&#125;)</div><div class="line">// 原生</div><div class="line">Object.keys(xList).map((key, i) =&gt; &#123;</div><div class="line">    let item = xList[key];</div><div class="line">    return item.name;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">// lodash</div><div class="line">let valid = _.every(xList, (item) =&gt; &#123;</div><div class="line">    return item.name !== name;</div><div class="line">&#125;);</div><div class="line">// 原生</div><div class="line">let valid = Object.keys(xList).every((key) =&gt; &#123;</div><div class="line">    return xList[key].name !== name;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h2>React 组件</h2>
<h3>state 状态的保存</h3>
<p>通过 react-router 的 location.state 属性传递的状态，在刷新页面不会丢失</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.props.router.push(&#123;</div><div class="line">    <span class="attr">pathname</span>: <span class="string">'/app/'</span> + <span class="keyword">this</span>.state.id,</div><div class="line">    <span class="attr">state</span>: &#123;</div><div class="line">        <span class="attr">platform</span>: obj.platform</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 该 platform 属性在新页面刷新时不会丢失</span></div></pre></td></tr></table></figure></p>
<p>通过 redux 的 state 保存的数据，在刷新页面时会丢失</p>
<blockquote>
<p>可以使用第三方 middleware来保存，如：redux-persist 或 redux-storage</p>
</blockquote>
<h3>state 状态的同步</h3>
<p>组件的 state 通过 react-router 的 location.state 获取初始值，但是操作（改变值）后刷新页面还会恢复原值，如何同步？
可以使用 replace 方法再次设置状态</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.props.router.replace(&#123;</div><div class="line">    <span class="attr">pathname</span>: <span class="string">'/app/'</span> + <span class="keyword">this</span>.state.id,</div><div class="line">    <span class="attr">state</span>: &#123;</div><div class="line">        ...this.props.location.state,</div><div class="line">        ...newState</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3>props 属性的传递</h3>
<p>父组件可以通过 props 给子组件传递参数，假如参数发生改变，怎么通知子组件重新渲染？
有两种方法：</p>
<ol start="0">
<li>
<p>在父组件里用 IIFE 函数进行条件判断
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.state.data) &#123;</div><div class="line">        <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">data</span>=<span class="string">&#123;this.state.data&#125;/</span>&gt;</span>);</span></div><div class="line">    &#125;</div><div class="line">&#125;)()&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>在子组件里用 componentWillReceiveProps 方法
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">componentWillReceiveProps(props) &#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: props.data&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
</ol>
<h3>尽量不要直接操作 state（论 Immutable 的重要性）</h3>
<p>通过子组件 props 传入的父组件的 state 和当前 state 绑定后，操作子 state 会影响父 state，所以尽量不要直接操作 state，一般 clone 后再操作</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 父组件</span></div><div class="line"><span class="keyword">this</span>.state = &#123;</div><div class="line">    <span class="attr">list</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">&#125;;</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">data</span>=<span class="string">&#123;this.state.list&#125;/</span>&gt;</span></span></div><div class="line">// 子组件</div><div class="line">this.state = &#123;</div><div class="line">    gridData: props.data</div><div class="line">&#125;;</div><div class="line">changeParent() &#123;</div><div class="line">    let next = this.state.gridData;</div><div class="line">    next.length = 0;</div><div class="line">    this.setState(&#123;gridData: next&#125;);</div><div class="line">&#125;</div><div class="line">这时 子组件的 gridData 和 父组件的 list 都是对同一对象的引用，直接操作 gridData 会改变 list，如上面的 changeParent() 方法</div><div class="line">// 可以修改如下：</div><div class="line">notChangeParent() &#123;</div><div class="line">    let next = this.state.gridData.slice();</div><div class="line">    next.length = 0;</div><div class="line">    this.setState(&#123;gridData: next&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>渲染可控组件时的注意事项</h3>
<p>渲染时，必须把可控组件（类似 input）放入最终 return 语句，不能放入条件判断，否则在 setState 时会导致失焦
也可以把该控件单纯剥离为一个独立组件</p>
<h3>渲染可控组件时的注意事项Ⅱ</h3>
<p>在使用可控组件时，假如其值为 state 非直接属性，则在 setState 时需要注意，不能直接设置父级属性为空，需要直接操作对应的属性</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.state = &#123;</div><div class="line">            <span class="attr">people</span>: &#123;<span class="attr">username</span>: <span class="string">''</span>&#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">this</span>.handleInput = <span class="keyword">this</span>.handleInput.bind(<span class="keyword">this</span>);</div><div class="line">        <span class="keyword">this</span>.reset = <span class="keyword">this</span>.reset.bind(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    handleInput(evt) &#123;</div><div class="line">        <span class="keyword">let</span> nextState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.state.people));</div><div class="line">        nextState[evt.target.name] = evt.target.value;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">people</span>: nextState&#125;);</div><div class="line">    &#125;</div><div class="line">    reset(evt) &#123;</div><div class="line">        evt.preventDefault();</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">people</span>: &#123;&#125;); <span class="comment">// 无效方式</span></div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">people</span>: &#123;<span class="attr">username</span>: <span class="string">''</span>&#125;&#125;); <span class="comment">// 正确方式</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">&#123;this.state.people.username&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.handleInput&#125;/</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">onClick</span>=<span class="string">&#123;this.reset&#125;</span>&gt;</span>Reset<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>使用 file 表单控件上传图片时，chrome 不允许重复上传同一文件造成的 bug</h3>
<p>自己开发了一个 uploader 组件，用于图片上传。
在 chrome 下，发现当对同一图片选择然后移除，再次上传时，没有反应（onchange 事件不会执行）。
后来发现是 chrome 的一个 <a href="http://stackoverflow.com/questions/9155136/chrome-file-upload-bug-on-change-event-wont-be-executed-twice-with-the-same-fi" target="_blank" rel="external">特性</a> 造成的
知道原因解决方法就简单了，就是每次移除预览图时，重置 file 控件的 value 值：</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.refs.inputfile.value = <span class="string">''</span>;</div></pre></td></tr></table></figure></p>
<h2>React 升级实践</h2>
<p>React 升级到 15.4.0 后</p>
<ul>
<li>react-hot-loader        必须相应升级到 v1.3.1，或 v3.0.0-beta（webpack config 中相应要调整）</li>
<li>react-tap-event-plugin  必须相应升级到 v2.0.1</li>
</ul>
<p>react-router 升级到 3.0.0 后</p>
<ul>
<li>history                 必须相应升级到 v3.0.0，但是不支持 v4.0.0</li>
</ul>
<h2>react-redux 相关</h2>
<h3>Redux 的 connect() 方法 造成无法通过 refs 访问该组件</h3>
<p>假如用 Redux 的 connect() 方法包装了一个独立组件，就不能直接通过 refs 来访问该组件，必须设置 {withRef: true} 并通过 getWrappedInstance() 方法来访问（该方法返回一个对被包装组件实例的引用）</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Parent component</span></div><div class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">'child.js'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.handle = <span class="keyword">this</span>.handle.bind(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    handle() &#123;</div><div class="line">        <span class="keyword">this</span>._child.doSomething(); <span class="comment">// 不能正常工作</span></div><div class="line">        <span class="keyword">this</span>._child.getWrappedInstance().doSomething(); <span class="comment">// 正常工作</span></div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handle&#125;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">Child</span> <span class="attr">ref</span>=<span class="string">&#123;(c)</span> =&gt;</span> this._child = c&#125;/&gt;</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// Child component</div><div class="line">class Child extends React.Component &#123;</div><div class="line">    constructor() &#123;</div><div class="line">        super();</div><div class="line">        this.doSomething = this.doSomething.bind(this);</div><div class="line">    &#125;</div><div class="line">    doSomething() &#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">export default connect(mapStateToProps, mapDispatchToProps, null, &#123;withRef: true&#125;)(Child);</div></pre></td></tr></table></figure></p>
<h2>react-router 相关</h2>
<h3>使用 react-router 时，让网址支持二级目录</h3>
<p>假如一个项目的网址如 www.company.com/myproject。
而我们用 react-router 已经把项目根目录设置为 &quot;/&quot; ，不想每个路由规则或者链接都添加同样的 &quot;myproject&quot; 字样的话，我们可以使用 history 组件添加 basename 属性来解决这个问题。</p>
<blockquote>
<p>注： react-router 为 v2.8.0 时，对应 history 组件必须为 v2.0
react-router 为 v3.0.0 时，对应 history 组件必须为 v3.0
react-router 暂不支持 history v4.0</p>
</blockquote>
<h4>整体路由设置：</h4>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Router, Route, useRouterHistory&#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div><div class="line"><span class="keyword">import</span> &#123;createHistory&#125; <span class="keyword">from</span> <span class="string">'history'</span>;</div><div class="line"><span class="keyword">const</span> customHistory = useRouterHistory(createHistory)(&#123;<span class="attr">basename</span>: <span class="string">'/myproject'</span>&#125;);</div><div class="line"></div><div class="line">render((</div><div class="line">&lt;Router history=&#123;customHistory&#125;&gt;</div><div class="line">    &lt;Route path="/" component=&#123;App&#125;&gt;</div><div class="line">        &lt;Route path="about" component=&#123;About&#125;&gt;</div><div class="line">            &lt;Route path="join" component=&#123;Join&#125;/&gt;</div><div class="line">            &lt;Route path="contact" component=&#123;Contact&#125;/&gt;</div><div class="line">        &lt;/Route&gt;</div><div class="line">        &lt;Route path="*" component=&#123;NoMatch&#125;/&gt;</div><div class="line">    &lt;/Route&gt;</div><div class="line">&lt;/Router&gt;</div><div class="line">), document.getElementById('root'));</div></pre></td></tr></table></figure></p>
<h4>页面跳转链接设置：</h4>
<p>两种情况 (以下示例合二为一)：</p>
<ol>
<li>使用 Link 组件的，直接设置正常路径，basename 值会自动附加到 url 上</li>
<li>使用脚本跳转，可以使用 withRouter 高阶组件</li>
</ol>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Link, withRouter&#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">    &#125;</div><div class="line">    goto() &#123;</div><div class="line">        <span class="keyword">this</span>.props.router.push(&#123;<span class="attr">pathname</span>: <span class="string">'/join'</span>, <span class="literal">null</span>, <span class="attr">state</span>: &#123;&#125;&#125;); <span class="comment">// 相当于 /myproject/join</span></div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/contact"</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span> <span class="comment">// 相当于 /myproject/contact</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter(About);</div></pre></td></tr></table></figure></p>
<h3>使用 history 组件某些方法来增强功能</h3>
<ol start="0">
<li>listenBefore 事件是应用内页面跳转时触发，可使用 getUserConfirmation 属性修改默认设置(第一个参数 message 来自于事件绑定函数的返回值，用于显示自定义消息)</li>
<li>listenBeforeUnload 事件是关闭浏览器或标签页时触发，使用 useBeforeUnload() 方法进行绑定（遗憾的是，Firefox、Chrome 51+、Safari 9.1+ 已经取消了显示自定义消息的功能）</li>
</ol>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; useRouterHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></div><div class="line"><span class="keyword">import</span> &#123; createHistory, useBeforeUnload &#125; <span class="keyword">from</span> <span class="string">'history'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> history = useRouterHistory(useBeforeUnload(createHistory))(&#123;</div><div class="line">    <span class="attr">getUserConfirmation</span>: <span class="function">(<span class="params">message, callback</span>) =&gt;</span> &#123;</div><div class="line">        callback(<span class="built_in">window</span>.confirm(message));</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">history.listenBefore(<span class="function">(<span class="params">location</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'Are you sure you want to leave this page?'</span>;</div><div class="line">&#125;)</div><div class="line">history.listenBeforeUnload(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'Are you sure you want to close this page?'</span>;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<blockquote>
<p>注：react-router 的 setRouteLeaveHook() 方法也可以实现类似效果（使用 withRouter 高阶函数绑定）
react-router 的 &lt;Route&gt; 组件上的 onChange() 方法也可以实现类似效果</p>
</blockquote>
<h2>Material-UI 相关</h2>
<h3>Material UI 的 Checkbox 组件在父级元素设置居中时会发生错位</h3>
<p>当父级元素设置 <code>text-align: center;</code> 时，会造成 Checkbox 的 icon 点击区和显示区错位（估计 Radio 组件也会有此问题）
解决方案：内部样式重新设置对齐方式</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Checkbox checked=&#123;false&#125; style=&#123;&#123;textAlign: &apos;left&apos;&#125;&#125;/&gt;</div></pre></td></tr></table></figure></p>
<h3>Material UI 的 Popover 组件在 Table里使用小组件二次渲染时，会定位为 (0, 0)</h3>
<p>解决方案：减少渲染次数，用一次渲染</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">return list.map((item, i) =&gt; &#123;</div><div class="line">	return &lt;Row key=&#123;i&#125; order=&#123;i&#125; &#123;...item&#125;/&gt;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>改为：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">return list.map((item, i) =&gt; &#123;</div><div class="line">	return (</div><div class="line">		&lt;tr key=&#123;i&#125;&gt;&lt;td&gt;&lt;td&gt;&lt;/tr&gt;</div><div class="line">	);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3>Material-UI 的 Button 组件在 Safari 下必须点击两次才能激发 onClick 事件</h3>
<p>解决方案：</p>
<ol start="0">
<li>使用 onTouchTap 代替</li>
<li>添加 disableTouchRipple={true}</li>
</ol>
<h3>Material-UI 的 TextField 组件放在 Dialog 组件里时，会出现初始值为空时用中文输入法无法输入的 bug（ <a href="https://github.com/callemall/Material-UI/issues/5121" target="_blank" rel="external">github上已有人反馈</a>）</h3>
<p>解决方案：</p>
<ol start="0">
<li>使用原生组件代替</li>
<li>使用 defaultValue 属性代替 value 属性（会变成非可控组件，导致 value 无法实时更新）</li>
<li>设置 value 初始值为空格而不是空字符串(无实用价值)</li>
</ol>
<h3>Material-UI 表单控件的校验</h3>
<p>Material-UI 库的 AutoComplete、TextField、SelectField 控件有个 errorText 属性，支持传入表达式，用于校验</p>
<blockquote>
<p>注：state 加入 submit 属性是为了表单提交时才进行校验</p>
</blockquote>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> errors = &#123;</div><div class="line">    <span class="attr">required</span>: <span class="string">'this field is required'</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.state = &#123;<span class="attr">submit</span>: <span class="literal">false</span>&#125;;</div><div class="line">        <span class="keyword">this</span>.submit = <span class="keyword">this</span>.submit.bind(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    submit() &#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">submit</span>: <span class="literal">true</span>&#125;);</div><div class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.state.username) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">TextField</span> <span class="attr">errorText</span>=<span class="string">&#123;this.state.submit</span> &amp;&amp; !<span class="attr">this.state.username</span> &amp;&amp; <span class="attr">errors.required</span>&#125; <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">&#123;this.state.username&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.handleInput&#125;/</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">onClick</span>=<span class="string">&#123;this.submit&#125;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对于没有 errorText 属性的 Checkbox、RadioButton 控件，可以用变通方法来实现校验</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;RadioButtonGroup defaultSelected=&#123;<span class="keyword">this</span>.state.sex&#125; name=<span class="string">"sex"</span> onChange=&#123;<span class="keyword">this</span>.handleInput&#125;&gt;</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">label</span>=<span class="string">"male"</span>/&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">label</span>=<span class="string">"female"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">RadioButtonGroup</span>&gt;</span></div><div class="line">&#123;this.state.submit &amp;&amp; !this.state.sex &amp;&amp; <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;errors.required&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#125;</div></pre></td></tr></table></figure></p>
<h2>React 中下拉列表或者弹出层，实现点击外部区域关闭</h2>
<p>在 React 中，由于没有类似 clickoutside 事件，所以要实现类似的功能，只能对 document 对象绑定 click 事件，而在 React 中直接操作 Dom 元素比较麻烦而且事后还涉及到解绑的问题，所以成本很高。
其实可以有个很巧妙的方法就是，添加一个浮动层：</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.state = &#123;<span class="attr">open</span>: <span class="literal">false</span>&#125;;</div><div class="line">        <span class="keyword">this</span>.closeMask = <span class="keyword">this</span>.closeMask.bind(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    closeMask() &#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">open</span>: <span class="literal">false</span>&#125;);</div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">const</span> styles = &#123;</div><div class="line">            <span class="attr">wrap</span>: &#123;</div><div class="line">                <span class="attr">position</span>: <span class="string">'relative'</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">mask</span>: &#123;</div><div class="line">                <span class="attr">position</span>: <span class="string">'fixed'</span>,</div><div class="line">                <span class="attr">top</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">right</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">bottom</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">left</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">zIndex</span>: <span class="number">99</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">result</span>: &#123;</div><div class="line">                <span class="attr">position</span>: <span class="string">'absolute'</span>,</div><div class="line">                <span class="attr">top</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">left</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">zIndex</span>: <span class="number">100</span>,</div><div class="line">                <span class="attr">width</span>: <span class="string">'200px'</span>,</div><div class="line">                <span class="attr">padding</span>: <span class="string">'5px'</span>,</div><div class="line">                <span class="attr">border</span>: <span class="string">'1px solid #ccc'</span>,</div><div class="line">                <span class="attr">background</span>: <span class="string">'#fff'</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.state.open) &#123;</div><div class="line">            <span class="keyword">return</span> (</div><div class="line">                <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;styles.wrap&#125;</span>&gt;</span></span></div><div class="line">                    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&#123;styles.result&#125;</span>&gt;</span></div><div class="line">                        ...</div><div class="line">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;styles.mask&#125;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.closeMask&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            );</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    







                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/01/11/javascript-performance-fundamentals-make-bluebird-fast/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/01/15/timing-atack/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="John Doe's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        youremail@email.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">28</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">37</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">18</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">24</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">39</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">21</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">33</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/01/">一月 2016<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/12/">十二月 2015<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/11/">十一月 2015<span class="sidebar_archives-count">30</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/10/">十月 2015<span class="sidebar_archives-count">30</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/09/">九月 2015<span class="sidebar_archives-count">27</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/08/">八月 2015<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/07/">七月 2015<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/06/">六月 2015<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/05/">五月 2015<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/04/">四月 2015<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/03/">三月 2015<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/02/">二月 2015<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/01/">一月 2015<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/12/">十二月 2014<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/11/">十一月 2014<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/10/">十月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/09/">九月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/08/">八月 2014<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/07/">七月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/06/">六月 2014<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/05/">五月 2014<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/04/">四月 2014<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/03/">三月 2014<span class="sidebar_archives-count">34</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/02/">二月 2014<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/01/">一月 2014<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/12/">十二月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/07/">七月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/06/">六月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/04/">四月 2013<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/03/">三月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/02/">二月 2013<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/01/">一月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/12/">十二月 2012<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/10/">十月 2012<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/09/">九月 2012<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/07/">七月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/06/">六月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/05/">五月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/08/">八月 2011<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/07/">七月 2011<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/06/">六月 2011<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/05/">五月 2011<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/04/">四月 2011<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/03/">三月 2011<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/02/">二月 2011<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/12/">十二月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/11/">十一月 2010<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/09/">九月 2010<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/07/">七月 2010<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/06/">六月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/02/">二月 2010<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/01/">一月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/09/">九月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/07/">七月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/05/">五月 2009<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/04/">四月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/03/">三月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/02/">二月 2009<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2008/07/">七月 2008<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2008/06/">六月 2008<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.svg);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.svg);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-gplus.svg);">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Hexo
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->

    <script src="/js/lazyload.min.js"></script>
    <script src="/js/js.min.js"></script>



    <script src="/js/nprogress.js"></script>


<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>
















<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script>
    <!-- Offer LazyLoad -->
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    <!-- Start Queue -->
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

                </main>
            </div>
        </body>
    
</html>
