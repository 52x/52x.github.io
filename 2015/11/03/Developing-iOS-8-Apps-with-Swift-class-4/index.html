<!DOCTYPE html>
<html lang="zh">
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.4 -->

    <!-- Title -->
    
    <title>
        
            Developing iOS 8 Apps with Swift 学习笔记4 | 
        
        Hexo
    </title>

    <!-- Meta & Info -->
    <meta charset="utf-8">

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="John Doe">
    <meta name="description" content="null">
    <meta name="keywords" content="null">

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hexo">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Developing iOS 8 Apps with Swift 学习笔记4 | Hexo">
    <meta property="og:description" content="null">
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS & jQuery -->
    
        <link rel="stylesheet" href="/css/material.min.css">
        <link rel="stylesheet" href="/css/style.min.css">
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


        <script src="/js/jquery.min.js"></script>
        <script src="/js/queue.js"></script>
    

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    


    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">1.</span> <span class="post-toc-text">Today</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">More Swift & the Foundation Framework</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">2.</span> <span class="post-toc-text">Optional</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">An Optional is just an enum</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.</span> <span class="post-toc-text">Array</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Array</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.</span> <span class="post-toc-text">Dictionary</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">Dictionary</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">5.</span> <span class="post-toc-text">Range</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">Range</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.</span> <span class="post-toc-text">Other Classes</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">NSObject</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">NSNumber</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">NSDate</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">NSData</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.</span> <span class="post-toc-text">Data Structures in Swift</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">Classes, Structures and Enumerations</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">Similarities</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">7.3.</span> <span class="post-toc-text">Differences</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.</span> <span class="post-toc-text">Value vs. Reference</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">Value (struct and enum)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">Reference (class)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">Choosing which to use?</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">9.</span> <span class="post-toc-text">Methods</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">Obviously you can override methods/properties in your superclass</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">Both types and instances can have methods/properties</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">Parameters Names</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">10.</span> <span class="post-toc-text">Properties</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">Property Observers</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">Lazy Initialization</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.</span> <span class="post-toc-text">Initialization</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">When is an init method needed?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.2.</span> <span class="post-toc-text">You also get some "free" init methods</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.3.</span> <span class="post-toc-text">What can you do inside an init?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.4.</span> <span class="post-toc-text">What are you required to do inside init?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.5.</span> <span class="post-toc-text">Inheriting init</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.6.</span> <span class="post-toc-text">Required init</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.7.</span> <span class="post-toc-text">Failable init</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.8.</span> <span class="post-toc-text">Creating Objects</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.9.</span> <span class="post-toc-text">How do we use AnyObject?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.10.</span> <span class="post-toc-text">How do we convert it?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.11.</span> <span class="post-toc-text">Casting AnyObject</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.12.</span> <span class="post-toc-text">Casting Arrays of AnyObject</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.13.</span> <span class="post-toc-text">Another example …</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.14.</span> <span class="post-toc-text">Yet another example …</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.15.</span> <span class="post-toc-text">Casting is not just for AnyObject</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.16.</span> <span class="post-toc-text">Other String Methods</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-number">11.17.</span> <span class="post-toc-text">Conversion between types with init()</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Developing iOS 8 Apps with Swift 学习笔记4
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>John Doe</strong>
        <span>11月 03, 2015</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Developing iOS 8 Apps with Swift 学习笔记4&url=http://yoursite.com//2015/11/03/Developing-iOS-8-Apps-with-Swift-class-4/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Developing iOS 8 Apps with Swift 学习笔记4&url=http://yoursite.com//2015/11/03/Developing-iOS-8-Apps-with-Swift-class-4/index.html&via=John Doe" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com//2015/11/03/Developing-iOS-8-Apps-with-Swift-class-4/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com//2015/11/03/Developing-iOS-8-Apps-with-Swift-class-4/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>lecture 4. More Swift and Foundation Frameworks</p>
<p>&lt;!-- more --&gt;</p>
<h2>Today</h2>
<h3>More Swift &amp; the Foundation Framework</h3>
<ul>
<li>
<p>Optionals and enum</p>
</li>
<li>
<p>Array&lt;T&gt;, Dictionary&lt;K,V&gt;, Range&lt;T&gt;, et. al.</p>
</li>
<li>
<p>Data Structures in Swift</p>
</li>
<li>
<p>Methods</p>
</li>
<li>
<p>Properties</p>
</li>
<li>
<p>Initialization</p>
</li>
<li>
<p>AnyObject, introspection and casting (is and as)</p>
</li>
<li>
<p>Helpful Methods and Functions String vs. NSString, Array vs. NSArray, Dictionary vs. NSDictionary</p>
</li>
<li>
<p>Property List NSUserDefaults</p>
</li>
</ul>
<h2>Optional</h2>
<h3>An Optional is just an enum</h3>
<p>Conceptually it is like this (the &lt;T&gt; is a generic like as in Array&lt;T&gt;) …
类似于泛型
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Optional</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">None</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Some</span>(<span class="type">T</span>) </div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> x: <span class="type">String</span>? = <span class="literal">nil</span></div></pre></td></tr></table></figure></p>
<p>… is …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="type">Optional</span>&lt;<span class="type">String</span>&gt;.<span class="type">None</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> x: <span class="type">String</span>? = <span class="string">"hello"</span></div></pre></td></tr></table></figure></p>
<p>… is …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="type">Optional</span>&lt;<span class="type">String</span>&gt;.<span class="type">Some</span>(<span class="string">"hello"</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> y = x!</div></pre></td></tr></table></figure></p>
<p>… is …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> x &#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Some</span>(<span class="keyword">let</span> value): y = value</div><div class="line">    <span class="keyword">case</span> <span class="type">None</span>: <span class="comment">// raise an exception </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2>Array</h2>
<h3>Array</h3>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="type">Array</span>&lt;<span class="type">String</span>&gt;()</div></pre></td></tr></table></figure></p>
<p>… is the same as …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="type">String</span>]() </div><div class="line"></div><div class="line"><span class="keyword">let</span> animals = [<span class="string">"Giraffe"</span>, <span class="string">"Cow"</span>, <span class="string">"Doggie"</span>, <span class="string">"Bird"</span>] </div><div class="line">animals.append(<span class="string">"Ostrich"</span>) <span class="comment">// won't compile, animals is immutable (because of let) </span></div><div class="line"><span class="keyword">let</span> animal = animals[<span class="number">5</span>] <span class="comment">// crash (array index out of bounds)</span></div><div class="line"></div><div class="line"><span class="comment">// enumerating an Array </span></div><div class="line"></div><div class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</div><div class="line">    <span class="built_in">println</span>(<span class="string">"\(animal)"</span>) </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>let声明的数组不可变</p>
<h2>Dictionary</h2>
<h3>Dictionary</h3>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pac10teamRankings = <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Int</span>&gt;()</div></pre></td></tr></table></figure></p>
<p>… is the same as …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pac10teamRankings = [<span class="type">String</span>:<span class="type">Int</span>]()</div><div class="line"> </div><div class="line">pac10teamRankings = [<span class="string">"Stanford"</span>:<span class="number">1</span>, <span class="string">"Cal"</span>:<span class="number">10</span>] </div><div class="line"><span class="keyword">let</span> ranking = pac10teamRankings[<span class="string">"Ohio State"</span>] <span class="comment">// ranking is an Int? (would be nil) </span></div><div class="line"></div><div class="line"><span class="comment">// use a tuple with for-in to enumerate a Dictionary </span></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> pac10teamRankings &#123; </div><div class="line">    <span class="built_in">println</span>(<span class="string">"\(key) = \(value)"</span>) </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2>Range</h2>
<h3>Range</h3>
<ul>
<li>
<p>A Range in Swift is just two end points of a sensible type (not gonna explain right now)</p>
</li>
<li>
<p>Range is generic (e.g. Range&lt;T&gt;)</p>
</li>
<li>
<p>This is sort of a pseudo-representation of Range:</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Range</span>&lt;<span class="title">T</span>&gt; </span>&#123; </div><div class="line">   <span class="keyword">var</span> startIndex: <span class="type">T</span> </div><div class="line">   <span class="keyword">var</span> endIndex: <span class="type">T</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>An Array's range would be a Range&lt;Int&gt; (since Arrays are indexed by Int)</p>
</li>
<li>
<p>Warning: A String subrange is not Range&lt;Int&gt; (it is Range&lt;String.Index&gt; … we'll talk later!)</p>
</li>
<li>
<p>There is special syntax for specifying a Range: either ... (inclusive) or ..&lt; (open-ended)</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> array = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>] </div><div class="line"><span class="keyword">let</span> subArray1 = array[<span class="number">2</span>...<span class="number">3</span>] <span class="comment">// subArray1 will be ["c","d"] </span></div><div class="line"><span class="keyword">let</span> subArray2 = array[<span class="number">2</span>..&lt;<span class="number">3</span>] <span class="comment">// subArray2 will be ["c"] </span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">27</span>...<span class="number">104</span> &#123; &#125; <span class="comment">// Range is enumeratable, like Array, String, Dictionary</span></div></pre></td></tr></table></figure></p>
</li>
</ul>
<h2>Other Classes</h2>
<h3>NSObject</h3>
<ul>
<li>
<p>Base class for all Objective-C classes</p>
</li>
<li>
<p>Some advanced features will require you to subclass from NSObject (and it can't hurt to do so)
swift语言中可以继承NSObject类</p>
</li>
</ul>
<h3>NSNumber</h3>
<ul>
<li>Generic number-holding class
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> n = <span class="type">NSNumber</span>(<span class="number">35.5</span>) </div><div class="line"><span class="keyword">let</span> intversion = n.intValue <span class="comment">// also doubleValue, boolValue, etc.</span></div></pre></td></tr></table></figure></li>
</ul>
<h3>NSDate</h3>
<ul>
<li>
<p>Used to find out the date and time right now or to store past or future dates.</p>
</li>
<li>
<p>See also NSCalendar, NSDateFormatter, NSDateComponents</p>
</li>
<li>
<p>If you are displaying a date in your UI, there are localization ramifications, so check these out!
NSDate无类型，类似于一个比特包或者一个指向内存的指针</p>
</li>
</ul>
<h3>NSData</h3>
<ul>
<li>A &quot;bag o' bits&quot;. Used to save/restore/transmit raw data throughout the iOS SDK.</li>
</ul>
<h2>Data Structures in Swift</h2>
<h3>Classes, Structures and Enumerations</h3>
<ul>
<li>These are the 3 fundamental building blocks of data structures in Swift</li>
</ul>
<h3>Similarities</h3>
<ul>
<li>
<p>Declaration syntax …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalculatorBrain</span> </span>&#123; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span> </span>&#123; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Op</span> </span>&#123; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Properties and Functions …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doit</span><span class="params">(argument: <span class="keyword">Type</span>)</span></span> -&gt; <span class="type">ReturnValue</span> &#123; </div><div class="line">&#125; </div><div class="line"><span class="keyword">var</span> storedProperty = &lt;initial value&gt; (not <span class="class"><span class="keyword">enum</span>) </span></div><div class="line"><span class="title">var</span> <span class="title">computedProperty</span>: <span class="title">Type</span> &#123;</div><div class="line">    <span class="keyword">get</span> &#123;&#125;</div><div class="line">    <span class="keyword">set</span> &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Initializers (again, not enum) …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">init</span>(argument1: <span class="type">Type</span>, argument2: <span class="type">Type</span>, …) &#123; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
</ul>
<h3>Differences</h3>
<ul>
<li>
<p>Inheritance (class only)</p>
</li>
<li>
<p>Introspection and casting (class only) 内省</p>
</li>
<li>
<p>Value type (struct, enum) vs. Reference type (class)
class是传引用，struct和enum是传值</p>
</li>
</ul>
<h2>Value vs. Reference</h2>
<h3>Value (struct and enum)</h3>
<p>Copied when passed as an argument to a function</p>
<p>Copied when assigned to a different variable</p>
<p>Immutable if assigned to a variable with let</p>
<p>Remember that function parameters are, by default, constants</p>
<p>You can put the keyword var on an parameter, and it will be mutable, but it's still a copy</p>
<p>You must note any func that can mutate a struct/enum with the keyword mutating</p>
<h3>Reference (class)</h3>
<p>Stored in the heap and reference counted (automatically)</p>
<p>Constant pointers to a class (let) still can mutate by calling methods and changing properties</p>
<p>When passed as an argument, does not make a copy (just passing a pointer to same instance)</p>
<h3>Choosing which to use?</h3>
<p>Usually you will choose class over struct. struct tends to be more for fundamental types.</p>
<p>Use of enum is situational (any time you have a type of data with discrete values).</p>
<h2>Methods</h2>
<h3>Obviously you can override methods/properties in your superclass</h3>
<p>Precede your <code>func</code> or <code>var</code> with the keyword <code>override</code></p>
<p>A method can be marked <code>final</code> which will prevent subclasses from being able to override</p>
<p>Classes can also be marked final</p>
<h3>Both types and instances can have methods/properties</h3>
<p>For this example, lets consider the struct Double (yes, Double is a struct)
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> d: <span class="type">Double</span> = … </div><div class="line"><span class="keyword">if</span> d.isSignMinus &#123; </div><div class="line">    d = <span class="type">Double</span>.<span class="built_in">abs</span>(d) </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>isSignMinus is an instance property of a Double (you send it to a particular Double)</p>
<p>abs is a type method of Double (you send it to the type itself, not to a particular Double)</p>
<p>You declare a type method or property with a static prefix (or class in a class) …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">abs</span><span class="params">(d: Double)</span></span> -&gt; <span class="type">Double</span></div></pre></td></tr></table></figure></p>
<h3>Parameters Names</h3>
<p>All parameters to all functions have an <code>internal</code> name and an <code>external</code> name</p>
<p>The internal name is the name of the local variable you use inside the method</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(external <span class="keyword">internal</span>: Int)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> result = foo(external: <span class="number">123</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Parameters Names</p>
<p>All parameters to all functions have an internal name and an external name</p>
<p>The internal name is the name of the local variable you use inside the method</p>
<p>The external name is what callers will use to call the method</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(external <span class="keyword">internal</span>: Int)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> result = foo(external: <span class="number">123</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ul>
<li>
<p>You can put _ if you don't want callers to use an external name at all for a given parameter
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(<span class="number">_</span> <span class="keyword">internal</span>: Int)</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> result = foo(<span class="number">123</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>An _ is the default for the first parameter (only) in a method (but not for init methods)
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(<span class="keyword">internal</span>: Int)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> result = foo(<span class="number">123</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>You can force the first parameter's external name to be the internal name with #</p>
</li>
</ul>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(#<span class="keyword">internal</span>: Int)</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> result = foo(<span class="keyword">internal</span>: <span class="number">123</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ul>
<li>
<p>For other (not the first) parameters, the internal name is, by default, the external name
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(first: Int, second: Double)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> result = foo(<span class="number">123</span>, second: <span class="number">5.5</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Any parameter's external name can be changed
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(first: Int, externalSecond second: Double)</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> result = foo(<span class="number">123</span>, externalSecond: <span class="number">5.5</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Or even omitted (though this would be sort of &quot;anti-Swift&quot;)</p>
</li>
</ul>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(first: Int, <span class="number">_</span> second: Double)</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> local = <span class="keyword">internal</span> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> result = foo(<span class="number">123</span>, <span class="number">5.5</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2>Properties</h2>
<h3>Property Observers</h3>
<p>You can observe changes to any property with willSet and didSet</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> someStoredProperty: <span class="type">Int</span> = <span class="number">42</span> &#123; </div><div class="line">    <span class="keyword">willSet</span> &#123; newValue <span class="keyword">is</span> the new value &#125; </div><div class="line">    <span class="keyword">didSet</span> &#123; oldValue <span class="keyword">is</span> the old value &#125; </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">override</span> <span class="keyword">var</span> inheritedProperty &#123; </div><div class="line">    <span class="keyword">willSet</span> &#123; newValue <span class="keyword">is</span> the new value &#125; </div><div class="line">    <span class="keyword">didSet</span> &#123; oldValue <span class="keyword">is</span> the old value &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>One very common thing to do in an observer in a Controller is to update the user-interface</p>
<h3>Lazy Initialization</h3>
<p>A lazy property does not get initialized until someone accesses it</p>
<p>You can allocate an object, execute a closure, or call a method if you want
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> brain = <span class="type">CalculatorBrain</span>()  <span class="comment">// nice if CalculatorBrain used lots of resources </span></div><div class="line"></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> someProperty: <span class="type">Type</span> = &#123;</div><div class="line">    <span class="comment">// construct the value of someProperty here </span></div><div class="line">    <span class="keyword">return</span> &lt;the constructed value&gt; </div><div class="line"> &#125;()</div><div class="line"> </div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> myProperty = <span class="keyword">self</span>.initializeMyProperty()</div></pre></td></tr></table></figure></p>
<p>This still satisfies the &quot;you must initialize all of your properties&quot; rule</p>
<p>Unfortunately, things initialized this way can't be constants (i.e., var ok, let not okay)</p>
<p>This can be used to get around some initialization dependency conundrums</p>
<h2>Initialization</h2>
<h3>When is an init method needed?</h3>
<p>init methods are not so common because properties can have their defaults set using =</p>
<p>Or properties might be Optionals, in which case they start out nil</p>
<p>You can also initialize a property by executing a closureOr use lazy instantiation</p>
<p>So you only need init when a value can’t be set in any of these ways</p>
<h3>You also get some &quot;free&quot; init methods</h3>
<p>If all properties in a base class (no superclass) have defaults, you get init() for free</p>
<p>If a struct has no initializers, it will get a default one with all properties as arguments</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> </span>&#123; </div><div class="line">   <span class="keyword">var</span> x: <span class="type">Int</span> = <span class="number">42</span> </div><div class="line">   <span class="keyword">var</span> y: <span class="type">String</span> = <span class="string">"moltuae"</span></div><div class="line"> </div><div class="line">   <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">String</span>) <span class="comment">// comes for free </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>What can you do inside an init?</h3>
<p>You can set any property's value, even those with default values</p>
<p>Constant properties (i.e. properties declared with <code>let</code>) can be set</p>
<p>You can call other init methods in your own class using <code>self.init(&lt;args&gt;)</code></p>
<p>In a class, you can of course also call super.init(&lt;args&gt;)</p>
<p>But there are some rules for calling inits from inits in a class…
let也可以在init中被重新复制</p>
<h3>What are you required to do inside init?</h3>
<p>By the time any init is done, <code>all properties</code> must have values (optionals can have the value nil)</p>
<p>There are two types of inits in a class, convenience and designated (i.e. not convenience)</p>
<p>A designated init must (and can only) call a designated init that is in its immediate superclass</p>
<p>You must initialize all properties introduced by your class before calling a superclass's init</p>
<p>You must call a superclass's init before you assign a value to an inherited property</p>
<ul>
<li>A convenience init must (and can only) call a designated init in its own class</li>
<li>A convenience init may call a designated init indirectly (through another convenience init)</li>
<li>A convenience init must call a designated init before it can set any property values</li>
</ul>
<p>The calling of other inits must be complete before you can access properties or invoke methods</p>
<h3>Inheriting init</h3>
<ul>
<li>If you do not implement any designated inits, you'll inherit all of your superclass's designateds</li>
<li>If you override all of your superclass's designated inits, you'll inherit all its convenience inits</li>
<li>If you implement no inits, you'll inherit all of your superclass's inits</li>
</ul>
<p>Any init inherited by these rules qualifies to satisfy any of the rules on the previous slide</p>
<h3>Required init</h3>
<p>A class can mark one or more of its init methods as required</p>
<p>Any subclass must implement said init methods (though they can be inherited per above rules)</p>
<h3>Failable init</h3>
<p>If an init is declared with a ? (or !) after the word init, it returns an Optional
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">init</span>?(arg1: <span class="type">Type1</span>, …) &#123; </div><div class="line">    <span class="comment">// might return nil in here </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>These are rare.</p>
<p>Note: The documentation does not seem to properly show these inits!</p>
<p>But you'll be able to tell because the compiler will warn you about the type when you access it.</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> image = <span class="type">UIImage</span>(named: <span class="string">"foo"</span>) <span class="comment">// image is an Optional UIImage (i.e. UIImage?)</span></div></pre></td></tr></table></figure></p>
<p>Usually we would use if-let for these cases …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> image = <span class="type">UIImage</span>(named: <span class="string">"foo"</span>) &#123; </div><div class="line">    <span class="comment">// image was successfully created </span></div><div class="line">&#125; <span class="keyword">else</span> &#123; </div><div class="line">    <span class="comment">// couldn't create the image </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>Creating Objects</h3>
<p>Usually you create an object by calling it's initializer via the type name …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="type">CalculatorBrain</span>() </div><div class="line"><span class="keyword">let</span> y = <span class="type">ComplicatedObject</span>(arg1: <span class="number">42</span>, arg2: <span class="string">"hello"</span>, …) </div><div class="line"><span class="keyword">let</span> z = [<span class="type">String</span>]()</div></pre></td></tr></table></figure></p>
<p>But sometimes you create objects by calling type methods in classes …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> button = <span class="type">UIButton</span>.buttonWithType(<span class="type">UIButtonType</span>.<span class="type">System</span>)</div></pre></td></tr></table></figure></p>
<p>Or obviously sometimes other objects will create objects for you …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">  <span class="keyword">let</span> commaSeparatedArrayElements: <span class="type">String</span> = <span class="string">","</span>.<span class="built_in">join</span>(myArray) </div><div class="line"> ``` </div><div class="line"></div><div class="line">## <span class="type">AnyObject</span></div><div class="line"></div><div class="line">是一个指向未知类的指针，一般在兼容objc的程序中使用</div><div class="line">### <span class="type">Special</span> <span class="string">"Type"</span> (actually it's a <span class="type">Protocol</span>)</div><div class="line"></div><div class="line">  <span class="type">Used</span> primarily <span class="keyword">for</span> compatibility with existing <span class="type">Objective</span>-<span class="type">C</span>-based <span class="type">APIs</span></div><div class="line">  </div><div class="line">### <span class="type">Where</span> will you see it?</div><div class="line"></div><div class="line">  <span class="type">As</span> properties (either singularly or <span class="keyword">as</span> an array of them), e.g. … </div><div class="line">```swift</div><div class="line">   <span class="keyword">var</span> destinationViewController: <span class="type">AnyObject</span> </div><div class="line">   <span class="keyword">var</span> toolbarItems: [<span class="type">AnyObject</span>]</div></pre></td></tr></table></figure></p>
<p>… or as arguments to functions …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">prepareForSegue</span><span class="params">(segue: UIStoryboardSegue, sender: AnyObject)</span></span> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">addConstraints</span><span class="params">(constraints: [AnyObject])</span></span> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">appendDigit</span><span class="params">(sender: AnyObject)</span></span></div></pre></td></tr></table></figure></p>
<p>… or even as return types from functions …</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">buttonWithType</span>(<span class="title">buttonType</span>: <span class="title">UIButtonType</span>) -&gt; <span class="title">AnyObject</span></span></div></pre></td></tr></table></figure></p>
<h3>How do we use AnyObject?</h3>
<pre><code>不能向他发送任何信息
</code></pre>
<p>We don't usually use it directly</p>
<p>Instead, we convert it to another, known type</p>
<h3>How do we convert it?</h3>
<p>We need to create a new variable which is of a known object type (i.e. not AnyObject)</p>
<p>Then we assign this new variable to hold the thing that is AnyObject</p>
<p>Of course, that new variable has to be of a compatible type</p>
<p>If we try to force the AnyObject into something   incompatible, crash!</p>
<p>But there are ways to check compatibility (either before forcing or while forcing) …</p>
<h3>Casting AnyObject</h3>
<p>We &quot;force&quot; an AnyObject to be something else by &quot;casting&quot; it using the as keyword …</p>
<p>Let's use var destinationViewController: AnyObject as an example …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> calcVC = destinationViewController <span class="keyword">as</span> <span class="type">CalculatorViewController</span></div></pre></td></tr></table></figure></p>
<p>… this would crash if dvc was not, in fact, a CalculatorViewController (or subclass thereof)</p>
<p>To protect against a crash, we can use if let with as? …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> calcVC = destinationViewController <span class="keyword">as</span>? <span class="type">CalculatorViewController</span> &#123; … &#125;</div></pre></td></tr></table></figure></p>
<p>… as? returns an Optional (calcVC = nil if dvc was not a CalculatorViewController)</p>
<p>Or we can check before we even try to do as with the is keyword …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> destinationViewController <span class="keyword">is</span> <span class="type">CalculatorViewController</span> &#123; … &#125;</div></pre></td></tr></table></figure></p>
<h3>Casting Arrays of AnyObject</h3>
<p>If you're dealing with an [AnyObject], you can cast the elements or the entire array …</p>
<p>Let's use var toolbarItems: [AnyObject] as an example …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> toolbarItems &#123; <span class="comment">// item's type is AnyObject </span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> toolbarItem = item <span class="keyword">as</span>? <span class="type">UIBarButtonItem</span> &#123; </div><div class="line">        <span class="comment">// do something with the toolbarItem (which will be a UIBarButtonItem here) </span></div><div class="line">     &#125; </div><div class="line">&#125; </div><div class="line">… or … </div><div class="line"><span class="keyword">for</span> toolbarItem <span class="keyword">in</span> toolbarItems <span class="keyword">as</span> [<span class="type">UIBarButtonItem</span>] &#123; <span class="comment">// better be so, else crash! </span></div><div class="line">      <span class="comment">// do something with the toolbarItem (which will be a UIBarButtonItem)</span></div><div class="line">&#125; </div><div class="line"><span class="comment">// can't do as? here because then it might be "for toolbarItem in nil" (makes no sense)</span></div></pre></td></tr></table></figure></p>
<h3>Another example …</h3>
<p>Remember when we wired up our Actions in our storyboard?</p>
<p>The default in the dialog that popped up was AnyObject.</p>
<p>We changed it to UIButton.</p>
<p>But what if we hadn't changed it to UIButton?</p>
<p>How would we have implemented appendDigit?
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">appendDigit</span><span class="params">(sender: AnyObject)</span></span> &#123; </div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> sendingButton = sender <span class="keyword">as</span>? <span class="type">UIButton</span> &#123; </div><div class="line">        <span class="keyword">let</span> digit = sendingButton.currentTitle! </div><div class="line">        … </div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>Yet another example …</h3>
<p>It is possible to create a button in code using a UIButton type method …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> button: <span class="type">AnyObject</span> = <span class="type">UIButton</span>.buttonWithType(<span class="type">UIButtonType</span>.<span class="type">System</span>)</div></pre></td></tr></table></figure></p>
<p>The type of this button is AnyObject (for historical reasons only)</p>
<p>To use it, we'd have to cast button to UIButton</p>
<p>We can do this on the fly if we want …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> title = (button <span class="keyword">as</span> <span class="type">UIButton</span>).currentTitle</div></pre></td></tr></table></figure></p>
<p>Again, this would crash if button was not, in fact, a UIButton</p>
<p>##Casting
要沿着继承链向下cast</p>
<h3>Casting is not just for AnyObject</h3>
<p>You can cast with as (or check with is) any object pointer that makes sense</p>
<p>For example …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> vc: <span class="type">UIViewController</span> = <span class="type">CalculatorViewController</span>()</div></pre></td></tr></table></figure></p>
<p>The type of vc is UIViewController (because we explicitly typed it to be)</p>
<p>And the assignment is legal because a CalculatorViewController is a UIViewController</p>
<p>But we can't say, for example, vc.enter()</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> calcVC = vc <span class="keyword">as</span>? <span class="type">CalculatorViewController</span> &#123; </div><div class="line">     <span class="comment">// in here we could say calcVC.enter() if we wanted to </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>#Functions
###Some Array&lt;T&gt; Methods
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">+= [<span class="type">T</span>] <span class="comment">// not += T </span></div><div class="line">first -&gt; <span class="type">T</span>? <span class="comment">// note optional </span></div><div class="line">last -&gt; <span class="type">T</span>? <span class="comment">// note optional </span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a = [a,b,<span class="built_in">c</span>] <span class="comment">// assume a, b, c are of some type (the same type)</span></div><div class="line"></div><div class="line">append(<span class="type">T</span>) </div><div class="line">insert(<span class="type">T</span>, atIndex: <span class="type">Int</span>) <span class="comment">// a.insert(d, atIndex:1), a = [a,d,b,c] </span></div><div class="line">splice(<span class="type">Array</span>&lt;<span class="type">T</span>&gt;, atIndex: <span class="type">Int</span>) <span class="comment">// a.splice([d,e], atIndex:1), a = [a,d,e,b,c] </span></div><div class="line"></div><div class="line">removeAtIndex(<span class="type">Int</span>) <span class="comment">// a.removeAtIndex(1), a = [a,c] </span></div><div class="line">removeRange(<span class="type">Range</span>) <span class="comment">// a.removeRange(0..&lt;2), a = [c] </span></div><div class="line">replaceRange(<span class="type">Range</span>, [<span class="type">T</span>]) <span class="comment">// a.replaceRange(0...1, with: [x,y,z]), a = [x,y,z,b] </span></div><div class="line"></div><div class="line"><span class="built_in">sort</span>(isOrderedBefore: (<span class="type">T</span>, <span class="type">T</span>) -&gt; <span class="type">Bool</span>) <span class="comment">// e.g., a.sort &#123; $0 &lt; $1 &#125;</span></div></pre></td></tr></table></figure></p>
<p>###More Array&lt;T&gt; Methods</p>
<p>This one creates a new array with any &quot;undesirables&quot; filtered out</p>
<p>The function passed as the argument returns false if an element is undesirable
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">filter</span>(includeElement: (<span class="type">T</span>) -&gt; <span class="type">Bool</span>) -&gt; [<span class="type">T</span>]</div></pre></td></tr></table></figure></p>
<p>Create a new array by transforming each element to something different</p>
<p>The thing it is transformed to can be of a different type than what is in the Array
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">map</span>(transform: (<span class="type">T</span>) -&gt; <span class="type">U</span>) -&gt; [<span class="type">U</span>] </div><div class="line"><span class="keyword">let</span> stringified: [<span class="type">String</span>] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="built_in">map</span> &#123; <span class="string">"\($0)"</span> &#125;</div></pre></td></tr></table></figure></p>
<p>Reduce an entire array to a single value</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">reduce</span>(initial: <span class="type">U</span>, combine: (<span class="type">U</span>, <span class="type">T</span>) -&gt; <span class="type">U</span>) -&gt; <span class="type">U</span> </div><div class="line"><span class="keyword">let</span> sum: <span class="type">Int</span> = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; $<span class="number">0</span> + $<span class="number">1</span> &#125; <span class="comment">// adds up the numbers in the Array</span></div></pre></td></tr></table></figure></p>
<p>#String</p>
<p>###String.Index</p>
<p>In Unicode, a given glyph might be represented by multiple Unicode characters (accents, etc.)</p>
<p>As a result, you can't index a String by Int (because it's a collection of characters, not glyphs)</p>
<p>So a lot of native Swift String functions take a String.Index to specify which glyph you want</p>
<p>You can get a String.Index by asking the string for its startIndex then advancing forward</p>
<p>You advance forward with the function (not method) advance(String.Index, Int)</p>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">"hello"</span> </div><div class="line"><span class="keyword">let</span> index = <span class="built_in">advance</span>(s.startIndex, <span class="number">2</span>) <span class="comment">// index is a String.Index to the 3rd glyph, "l" </span></div><div class="line">s.splice(<span class="string">"abc"</span>, index) <span class="comment">// s will now be "heabcllo" (abc inserted at 2) </span></div><div class="line"><span class="keyword">let</span> startIndex = <span class="built_in">advance</span>(s.startIndex, <span class="number">1</span>) </div><div class="line"><span class="keyword">let</span> endIndex = <span class="built_in">advance</span>(s.startIndex, <span class="number">6</span>) </div><div class="line"><span class="keyword">let</span> substring = s[index..&lt;endIndex] <span class="comment">// substring will be "eabcl"</span></div></pre></td></tr></table></figure></p>
<p>The method rangeOfString returns an Optional Range&lt;String.Index&gt;</p>
<p>As an example, to get whole number part of a string representing a double …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> num = <span class="string">"56.25"</span> </div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> decimalRange = num.rangeOfString(<span class="string">"."</span>) &#123; <span class="comment">// decimalRange is Range&lt;String.Index&gt; </span></div><div class="line">   <span class="keyword">let</span> wholeNumberPart = num[num.startIndex..&lt;decimalRange.startIndex] </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We could remove the whole number part using this method …
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">s.removeRange([s.startIndex..&lt;decimalRange.startIndex])</div></pre></td></tr></table></figure></p>
<p>(there are other (defaulted) arguments to removeRange, but I'm not going to cover them now)</p>
<p>There's also replaceRange(Range, String)</p>
<h3>Other String Methods</h3>
<p><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">description -&gt; <span class="type">String</span>                              <span class="comment">// Printable </span></div><div class="line">endIndex -&gt; <span class="type">String</span>.<span class="type">Index</span> </div><div class="line">hasPrefix(<span class="type">String</span>) -&gt; <span class="type">Bool</span> </div><div class="line">hasSuffix(<span class="type">String</span>) -&gt; <span class="type">Bool</span> </div><div class="line">toInt() -&gt; <span class="type">Int</span>?                                    <span class="comment">// no toDouble (# of sig digits? etc.) </span></div><div class="line">capitalizedString -&gt; <span class="type">String</span> </div><div class="line">lowercaseString -&gt; <span class="type">String</span> </div><div class="line">uppercaseString -&gt; <span class="type">String</span> </div><div class="line"><span class="built_in">join</span>(<span class="type">Array</span>) -&gt; <span class="type">String</span>                              <span class="comment">// ",".join(["1","2","3"]) = "1,2,3" </span></div><div class="line">componentsSeparatedByString(<span class="type">String</span>) -&gt; [<span class="type">String</span>]    <span class="comment">// "1,2,3".csbs(",") = ["1","2","3"]</span></div></pre></td></tr></table></figure></p>
<p>#Type Conversion</p>
<h3>Conversion between types with init()</h3>
<p>A sort of &quot;hidden&quot; way to convert between types is to create a new object by converting
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> d: <span class="type">Double</span> = <span class="number">37.5</span> </div><div class="line"><span class="keyword">let</span> f: <span class="type">Float</span> = <span class="number">37.5</span> </div><div class="line"><span class="keyword">let</span> x = <span class="type">Int</span>(d)                 <span class="comment">// truncates </span></div><div class="line"><span class="keyword">let</span> xd = <span class="type">Double</span>(x) </div><div class="line"><span class="keyword">let</span> cgf = <span class="type">CGFloat</span>(d)           <span class="comment">// we'll see CGFloat later in the quarter</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> a = <span class="type">Array</span>(<span class="string">"abc"</span>)           <span class="comment">// a = ["a","b","c"], i.e. array of Character </span></div><div class="line"><span class="keyword">let</span> s = <span class="type">String</span>([<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>])  <span class="comment">// s = "abc" (the array is of Character, not String) </span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> s = <span class="type">String</span>(<span class="number">52</span>)             <span class="comment">// no floats </span></div><div class="line"><span class="keyword">let</span> s = <span class="string">"\(37.5)"</span>              <span class="comment">// but don't forget about this mechanism</span></div></pre></td></tr></table></figure></p>
<p>#Assertions
###Debugging Aid
Intentionally crash your program if some condition is not true (and give a message)
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">assert</span>(() -&gt; <span class="type">Bool</span>, <span class="string">"message"</span>)</div></pre></td></tr></table></figure></p>
<p>The function argument is an &quot;autoclosure&quot; however, so you don't need the { }</p>
<p>e.g. assert(validation() != nil, &quot;the validation function returned nil&quot;)</p>
<p>Will crash if validation() returns nil (because we are asserting that validation() does not)</p>
<p>The validation() != nil part could be any code you want</p>
<p>When building for release (to the AppStore or whatever), asserts are ignored completely</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    







                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2015/11/01/Lecture-2-how-to-read-literature-2/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2015/11/03/Developing-iOS-8-Apps-with-Swift-class-5/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="John Doe's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        youremail@email.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">28</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">37</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">18</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">24</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">39</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">21</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">33</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/01/">一月 2016<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/12/">十二月 2015<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/11/">十一月 2015<span class="sidebar_archives-count">30</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/10/">十月 2015<span class="sidebar_archives-count">30</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/09/">九月 2015<span class="sidebar_archives-count">27</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/08/">八月 2015<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/07/">七月 2015<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/06/">六月 2015<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/05/">五月 2015<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/04/">四月 2015<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/03/">三月 2015<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/02/">二月 2015<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/01/">一月 2015<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/12/">十二月 2014<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/11/">十一月 2014<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/10/">十月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/09/">九月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/08/">八月 2014<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/07/">七月 2014<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/06/">六月 2014<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/05/">五月 2014<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/04/">四月 2014<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/03/">三月 2014<span class="sidebar_archives-count">34</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/02/">二月 2014<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/01/">一月 2014<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/12/">十二月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/07/">七月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/06/">六月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/04/">四月 2013<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/03/">三月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/02/">二月 2013<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/01/">一月 2013<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/12/">十二月 2012<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/10/">十月 2012<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/09/">九月 2012<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/07/">七月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/06/">六月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2012/05/">五月 2012<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/08/">八月 2011<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/07/">七月 2011<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/06/">六月 2011<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/05/">五月 2011<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/04/">四月 2011<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/03/">三月 2011<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2011/02/">二月 2011<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/12/">十二月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/11/">十一月 2010<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/09/">九月 2010<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/07/">七月 2010<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/06/">六月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/02/">二月 2010<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2010/01/">一月 2010<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/09/">九月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/07/">七月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/05/">五月 2009<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/04/">四月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/03/">三月 2009<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2009/02/">二月 2009<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2008/07/">七月 2008<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2008/06/">六月 2008<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.svg);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.svg);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-gplus.svg);">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Hexo
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->

    <script src="/js/lazyload.min.js"></script>
    <script src="/js/js.min.js"></script>



    <script src="/js/nprogress.js"></script>


<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>
















<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script>
    <!-- Offer LazyLoad -->
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    <!-- Start Queue -->
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

                </main>
            </div>
        </body>
    
</html>
